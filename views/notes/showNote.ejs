<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../CSS/style.css">
  <title>Notizen: <%= foundNote.title %></title>
</head>

<body>

  <div class="main-layout">

    <%- include("../partials/header") %>

    <main>
      <div class="container">

        <!-- flash message -->
        <% if(error && error.length) {%>
        <div class="alert alert-error" role="alert">
          <%= error %>
        </div>
        <% } else if(success){ %>
        <div class="" role="alert">
          <%= success %>
        </div>
        <% } %>

        <div class="wrapper medium-dark-wrapper">

          <form action="/notizen/<%= foundNote._id%>?_method=DELETE" method="POST" class="flex-right">
            <!-- prettier-ignore -->
            <button type="submit" class="<%= foundUser && foundUser.isDemo ? "delete-edit-btn-disabled" : "delete-edit-btn" %> submit-btn" title="Notiz löschen" aria-label="Notiz löschen" <% if (foundUser && foundUser.isDemo) { %>disabled<% } %> >
              <svg xmlns="http://www.w3.org/2000/svg" width="20"
                height="20" viewBox="0 0 24 24" class="inline-svg button-text" title="Notiz löschen">
                <path fill="currentColor"
                  d="M7 21q-.825 0-1.413-.588T5 19V6q-.425 0-.713-.288T4 5q0-.425.288-.713T5 4h4q0-.425.288-.713T10 3h4q.425 0 .713.288T15 4h4q.425 0 .713.288T20 5q0 .425-.288.713T19 6v13q0 .825-.588 1.413T17 21H7Zm5-7.1l1.9 1.9q.275.275.7.275t.7-.275q.275-.275.275-.7t-.275-.7l-1.9-1.9l1.9-1.9q.275-.275.275-.7t-.275-.7q-.275-.275-.7-.275t-.7.275L12 11.1l-1.9-1.9q-.275-.275-.7-.275t-.7.275q-.275.275-.275.7t.275.7l1.9 1.9l-1.9 1.9q-.275.275-.275.7t.275.7q.275.275.7.275t.7-.275l1.9-1.9Z" />
              </svg></button>
          </form>

          <h1 class="subtitle">Notiz bearbeiten</h1>

          <form action="/notizen/<%=foundNote._id%>?_method=PUT" method="POST">

            <label for="title">
              <input type="title" id="title" name="title" placeholder="Titel hier eingeben..." class="card-input bold"
                value="<%=foundNote.title%>" required>
            </label>

            <label for="body">
              <textarea name="body" id="body" cols="50" rows="10" placeholder="Notiz hier eingeben..."
                class="card-input textarea" required><%=foundNote.body %></textarea>
            </label>

            <!-- prettier-ignore -->
            <button type="submit" class="<%= foundUser && foundUser.isDemo ? "rectangle-btn-card-disabled" : "rectangle-btn" %> submit-btn mb-1" <% if (foundUser && foundUser.isDemo) { %>disabled<% } %> >
              <span class="button-text">Speichern</span>
            </button>
          </form>
          <a href="/notizen" class="rectangle-secondary-btn width-100 mb-1">Abbrechen</a>

        </div>

        <div class="text-center">
          <a href="/notizen" class="page-navigation-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
              class="page-navigation-svg">
              <g transform="rotate(180 12 12)">
                <path fill="currentColor" d="M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z" />
              </g>
            </svg>Alle Notizen</a>
        </div>
      </div>
    </main>




    <%- include("../partials/footer") %>
  </div>

  <script src="/JS/loadingSpinner.js"></script>
</body>

</html>